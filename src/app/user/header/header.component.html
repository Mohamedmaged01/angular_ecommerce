<div
  class="d-flex justify-content-center bg-black text-white text-center py-2 px-3 position-relative"
>
  <span
    >Summer Sale For All Swim Suits And Free Express Delivery - OFF 50%!</span
  >
  <div class="dropdown position-absolute end-0 me-3 d-none d-lg-block">
    <a
      class="nav-link dropdown-toggle text-light"
      href="#"
      id="languageDropdown"
      role="button"
      data-bs-toggle="dropdown"
    >
      English
    </a>
    <ul class="dropdown-menu dropdown-menu-end">
      <li><a class="dropdown-item" routerLink="/">English</a></li>
      <li><a class="dropdown-item" routerLink="/">Arabic</a></li>
    </ul>
  </div>
</div>

<nav class="navbar navbar-expand-lg bg-white py-3">
  <div class="container">
    <a class="navbar-brand fw-bold fs-4" routerLink="/">Exclusive</a>

    <button class="navbar-toggler" type="button" (click)="toggleNavbar()">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div
      class="collapse navbar-collapse"
      [class.show]="!isNavbarCollapsed"
      id="navbarNav"
    >
      <ul class="navbar-nav mx-auto">
        <li class="nav-item">
          <a
            class="nav-link text-dark"
            routerLink="/home"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
            (click)="closeNavbar()"
            >Home</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link text-dark"
            href="#contact"
            routerLinkActive="active"
            (click)="closeNavbar()"
            >Contact</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link text-dark"
            href="#contact"
            routerLinkActive="active"
            (click)="closeNavbar()"
            >About</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link text-dark"
            routerLink="/login"
            routerLinkActive="active"
            (click)="closeNavbar()"
            >Sign In</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link text-dark"
            routerLink="/signup"
            routerLinkActive="active"
            (click)="closeNavbar()"
            >Sign Up</a
          >
        </li>
      </ul>

      <!-- Search Form for Desktop -->
      <div class="d-none d-lg-flex me-3">
        <div class="input-group">
          <input
            type="text"
            class="form-control"
            [(ngModel)]="searchQuery"
            (keyup.enter)="searchProducts($event)"
            (input)="onSearchInput()"
            name="desktopSearch"
            placeholder="What are you looking for?"
          />
          <button
            *ngIf="searchQuery"
            class="btn btn-outline-secondary"
            type="button"
            (click)="clearSearch()"
          >
            <i class="fas fa-times"></i>
          </button>
          <button
            class="btn btn-outline-secondary"
            type="button"
            (click)="searchProducts($event)"
          >
            <i class="fa-solid fa-magnifying-glass"></i>
          </button>
        </div>
      </div>

      <div class="d-flex align-items-center">
        <!-- Mobile Search Toggle -->
        <button
          class="btn btn-outline-dark d-lg-none ms-2 me-3"
          (click)="toggleMobileSearch()"
          type="button"
        >
          <i class="fa-solid fa-magnifying-glass"></i>
        </button>

        <a routerLink="/wishlist" class="text-dark me-3 fs-5">
          <i class="fa-regular fa-heart"></i>
        </a>
        <a routerLink="/cart" class="text-dark fs-5">
          <i class="fa-solid fa-cart-shopping"></i>
        </a>
        <button class="btn btn-dark ms-3" (click)="logout()">Logout</button>
      </div>
    </div>
  </div>
</nav>

<!-- Mobile Search Offcanvas -->
<div
  class="offcanvas offcanvas-top"
  tabindex="-1"
  id="mobileSearchOffcanvas"
  aria-labelledby="mobileSearchOffcanvasLabel"
>
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="mobileSearchOffcanvasLabel">Search</h5>
    <button
      type="button"
      class="btn-close"
      data-bs-dismiss="offcanvas"
      aria-label="Close"
    ></button>
  </div>
  <div class="offcanvas-body">
    <div class="input-group">
      <input
        type="text"
        class="form-control"
        [(ngModel)]="searchQuery"
        (keyup.enter)="searchProducts()"
        id="mobileSearchInput"
        placeholder="What are you looking for?"
      />
      <button class="btn btn-dark" type="button" (click)="searchProducts()">
        <i class="fa-solid fa-magnifying-glass"></i>
      </button>
    </div>
  </div>
</div>
